<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no, maximum-scale=1">
<meta name="apple-mobile-web-app-capable" content="yes">
<title>Follow me</title>
<style>
*{margin:0;padding:0;box-sizing:border-box;-webkit-tap-highlight-color:transparent}
html,body{width:100%;height:100%;overflow:hidden}
body{font-family:-apple-system,BlinkMacSystemFont,'Helvetica Neue',sans-serif;background:#1a1a2e;color:#e0e0e0;display:flex;flex-direction:column;align-items:center;justify-content:space-evenly;height:100vh;height:100dvh;padding:12px;user-select:none}
h1{font-size:1.1rem;font-weight:700;letter-spacing:.15em;text-transform:uppercase;color:#e94560}
.stats{display:flex;gap:16px;align-items:center}
.stats span{font-family:monospace;font-size:.9rem;font-weight:700;color:#aaa}
.sc{color:#4fc3f7!important}.best{color:#888!important}
.msg{font-size:.85rem;font-weight:700;text-align:center;min-height:1.2em;color:#aaa}
.msg.watch{color:#e94560}.msg.go{color:#538d4e}.msg.fail{color:#e94560}

.board{
  display:grid;grid-template-columns:1fr 1fr;gap:12px;
  width:clamp(220px,60vw,300px);
}
.pad{
  aspect-ratio:1;border-radius:16px;cursor:pointer;
  transition:filter .1s,transform .1s;
  border:3px solid rgba(0,0,0,.2);
}
.pad:active{transform:scale(.95)}
.pad.lit{filter:brightness(2);transform:scale(.95)}
.p0{background:#e94560}.p1{background:#4fc3f7}.p2{background:#66bb6a}.p3{background:#ffca28}

.actions button{font-family:inherit;font-size:.8rem;font-weight:700;padding:10px 24px;border:none;border-radius:20px;background:#e94560;color:#fff;cursor:pointer}
.actions button:active{transform:scale(.95)}
</style>
</head>
<body>
<h1>FOLLOW ME</h1>
<div class="stats"><span class="sc" id="sc">Score: 0</span><span class="best" id="best"></span></div>
<div class="msg" id="msg">Press Start!</div>
<div class="board" id="board">
  <div class="pad p0" data-p="0"></div>
  <div class="pad p1" data-p="1"></div>
  <div class="pad p2" data-p="2"></div>
  <div class="pad p3" data-p="3"></div>
</div>
<div class="actions"><button id="startBtn">START</button></div>
<script>
(function(){
var sequence=[],playerIdx,score=0,bestScore=0,phase='idle',speed=500;
var msgEl=document.getElementById('msg'),scEl=document.getElementById('sc');
var bestEl=document.getElementById('best');
var pads=document.querySelectorAll('.pad');

// Audio context for tones
var audioCtx;
var FREQS=[261.63,329.63,392.00,523.25];

function playTone(idx,duration){
  try{
    if(!audioCtx)audioCtx=new(window.AudioContext||window.webkitAudioContext)();
    var osc=audioCtx.createOscillator();var gain=audioCtx.createGain();
    osc.connect(gain);gain.connect(audioCtx.destination);
    osc.frequency.value=FREQS[idx];osc.type='sine';
    gain.gain.value=0.15;
    osc.start();
    gain.gain.exponentialRampToValueAtTime(0.001,audioCtx.currentTime+(duration||0.3)/1000);
    osc.stop(audioCtx.currentTime+(duration||0.3)/1000);
  }catch(e){}
}

function lightPad(idx,duration){
  pads[idx].classList.add('lit');
  playTone(idx,duration);
  setTimeout(function(){pads[idx].classList.remove('lit');},duration||300);
}

function newGame(){
  sequence=[];score=0;speed=500;
  scEl.textContent='Score: 0';
  addToSequence();
}

function addToSequence(){
  sequence.push(Math.floor(Math.random()*4));
  phase='showing';
  msgEl.textContent='Watch...';msgEl.className='msg watch';
  playSequence();
}

function playSequence(){
  var i=0;
  var int=setInterval(function(){
    if(i>=sequence.length){clearInterval(int);startPlayerTurn();return;}
    lightPad(sequence[i],speed*0.6);
    i++;
  },speed);
}

function startPlayerTurn(){
  playerIdx=0;phase='input';
  msgEl.textContent='Your turn!';msgEl.className='msg go';
}

function playerPress(idx){
  if(phase!=='input')return;
  lightPad(idx,200);

  if(idx===sequence[playerIdx]){
    playerIdx++;
    if(playerIdx>=sequence.length){
      score++;scEl.textContent='Score: '+score;
      if(score>bestScore){bestScore=score;bestEl.textContent='Best: '+bestScore;}
      phase='idle';
      speed=Math.max(200,500-score*20);
      msgEl.textContent='✓ Nice!';msgEl.className='msg go';
      setTimeout(addToSequence,800);
    }
  }else{
    phase='idle';
    msgEl.textContent='✕ Wrong! Score: '+score;msgEl.className='msg fail';
    // Flash correct answer
    setTimeout(function(){lightPad(sequence[playerIdx],400);},300);
  }
}

// Pad clicks
document.getElementById('board').addEventListener('click',function(e){
  var p=e.target.closest('.pad');if(!p)return;
  playerPress(parseInt(p.getAttribute('data-p')));
});

document.getElementById('startBtn').addEventListener('click',newGame);

// Keyboard
document.addEventListener('keydown',function(e){
  if(e.key==='1')playerPress(0);if(e.key==='2')playerPress(1);
  if(e.key==='3')playerPress(2);if(e.key==='4')playerPress(3);
});
})();
</script>
<!-- ORIENTATION GUARD — auto shows rotate message when needed -->
<script>
!function(){
  var I='og2-overlay';
  function isTablet(){return Math.min(screen.width,screen.height)>=600}
  function needsRotate(){var l=window.innerWidth>window.innerHeight;return isTablet()?!l:l}

  function build(){
    if(document.getElementById(I))return;

    /* ── Styles ── */
    var s=document.createElement('style');
    s.textContent=
      '#'+I+'{display:none;position:fixed;inset:0;'+
        'background:linear-gradient(135deg,#0e1218 0%,#1a1f2e 50%,#0e1218 100%);'+
        'z-index:99999;flex-direction:column;align-items:center;justify-content:center;'+
        'font-family:-apple-system,Arial,sans-serif;text-align:center;'+
        'padding:32px;box-sizing:border-box;overflow:hidden}'+
      '#'+I+'.og2-show{display:flex}'+

      /* Glow pulse */
      '#'+I+'::before{content:"";position:absolute;width:300px;height:300px;'+
        'background:radial-gradient(circle,rgba(103,126,234,.18) 0%,transparent 70%);'+
        'border-radius:50%;animation:og2-glow 2.5s ease-in-out infinite}'+
      '@keyframes og2-glow{0%,100%{transform:scale(1);opacity:.5}50%{transform:scale(1.35);opacity:1}}'+

      /* Phone wrap */
      '#og2-phone{position:relative;width:90px;height:90px;'+
        'display:flex;align-items:center;justify-content:center;'+
        'margin-bottom:28px;animation:og2-rot 2.4s ease-in-out infinite}'+
      '@keyframes og2-rot{0%{transform:rotate(0)}35%,65%{transform:rotate(90deg)}100%{transform:rotate(0)}}'+

      /* Phone SVG glow */
      '#og2-phone svg{width:56px;height:90px;'+
        'filter:drop-shadow(0 0 12px rgba(103,126,234,.9)) drop-shadow(0 0 28px rgba(103,126,234,.4))}'+

      /* Arrows */
      '#og2-al,#og2-ar{position:absolute;font-size:24px;opacity:0;'+
        'color:#a78bfa;text-shadow:0 0 10px rgba(167,139,250,.9)}'+
      '#og2-al{left:-2px;animation:og2-ala 2.4s ease-in-out infinite}'+
      '#og2-ar{right:-2px;animation:og2-ara 2.4s ease-in-out infinite}'+
      '@keyframes og2-ala{0%,20%{opacity:0;transform:translateX(6px)}40%{opacity:1;transform:translateX(0)}70%,100%{opacity:0;transform:translateX(-6px)}}'+
      '@keyframes og2-ara{0%,20%{opacity:0;transform:translateX(-6px)}40%{opacity:1;transform:translateX(0)}70%,100%{opacity:0;transform:translateX(6px)}}'+

      /* Title & sub */
      '#og2-title{font-size:1.15rem;font-weight:700;color:#e8edf5;letter-spacing:.05em;margin-bottom:10px;position:relative}'+
      '#og2-sub{font-size:.82rem;color:#64748b;max-width:240px;line-height:1.6;position:relative}'+

      /* Animated gradient bar */
      '#og2-bar{position:relative;width:56px;height:4px;border-radius:2px;margin-top:22px;'+
        'background:linear-gradient(90deg,#667eea,#a78bfa,#22d3ee,#667eea);'+
        'background-size:200% 100%;animation:og2-bar 1.8s linear infinite}'+
      '@keyframes og2-bar{0%{background-position:0%}100%{background-position:200%}}';

    document.head.appendChild(s);

    /* ── Overlay HTML ── */
    var d=document.createElement('div');
    d.id=I;
    d.innerHTML=
      '<div id="og2-phone">'+
        '<span id="og2-al">\u2039</span>'+
        '<svg viewBox="0 0 56 90" fill="none" xmlns="http://www.w3.org/2000/svg">'+
          '<rect x="2" y="2" width="52" height="86" rx="10" fill="#1e2535" stroke="#667eea" stroke-width="2.5"/>'+
          '<rect x="7" y="12" width="42" height="62" rx="4" fill="#0d1117" opacity=".9"/>'+
          '<rect x="12" y="22" width="32" height="3" rx="1.5" fill="#667eea" opacity=".7"/>'+
          '<rect x="12" y="30" width="24" height="3" rx="1.5" fill="#667eea" opacity=".5"/>'+
          '<rect x="12" y="38" width="28" height="3" rx="1.5" fill="#667eea" opacity=".35"/>'+
          '<rect x="12" y="46" width="20" height="3" rx="1.5" fill="#a78bfa" opacity=".5"/>'+
          '<rect x="12" y="54" width="26" height="3" rx="1.5" fill="#a78bfa" opacity=".35"/>'+
          '<rect x="20" y="78" width="16" height="3" rx="1.5" fill="#667eea" opacity=".7"/>'+
          '<circle cx="28" cy="7" r="2" fill="#667eea" opacity=".6"/>'+
        '</svg>'+
        '<span id="og2-ar">\u203a</span>'+
      '</div>'+
      '<div id="og2-title"></div>'+
      '<div id="og2-sub"></div>'+
      '<div id="og2-bar"></div>';

    document.body.appendChild(d);
  }

  function update(){
    var o=document.getElementById(I);
    if(!o)return;
    if(needsRotate()){
      var landscape=isTablet();
      o.querySelector('#og2-title').textContent=landscape?'Rotate to landscape':'Rotate to portrait';
      o.querySelector('#og2-sub').textContent=landscape
        ?'This game plays best in landscape mode. Please rotate your tablet.'
        :'This game plays best in portrait mode. Please rotate your phone.';
      o.classList.add('og2-show');
    } else {
      o.classList.remove('og2-show');
    }
  }

  function init(){
    build();
    update();
    window.addEventListener('resize',update);
    window.addEventListener('orientationchange',function(){setTimeout(update,350)});
  }

  document.readyState==='loading'
    ?document.addEventListener('DOMContentLoaded',init)
    :init();
}();

</script>
</body>
</html>
